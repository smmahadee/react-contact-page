(this["webpackJsonpcontact-page"]=this["webpackJsonpcontact-page"]||[]).push([[0],{31:function(e,t,r){},50:function(e,t,r){"use strict";r.r(t);var c=r(0),a=r(15),n=r.n(a),s=(r(31),r(2)),i=r.n(s),l=r(6),o=r(7),u=r(8),j=new(r(25).a)("db"),d=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.collection("users").add(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.collection("users").get();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(e){e.sort((function(e,t){return e.firstName.toUpperCase()<t.firstName.toUpperCase()?-1:e.firstName.toUpperCase()>t.firstName.toUpperCase()?1:null}));var t=e.reduce((function(e,t,r,c){var a=t.firstName.toUpperCase().substr(0,1);return a<"A"&&(a="#"),a!==e[1]&&(e[0].push({firstName:a,isLetter:!0}),e[1]=a),t.firstName.length>2&&e[0].push(Object(u.a)(Object(u.a)({},t),{},{isLetter:!1})),e}),[[],null])[0];return t},x=r(5),p=r(18),h=r(4),f=Object(p.b)({name:"form",initialState:{isShowModal:!1},reducers:{openForm:function(e){e.isShowModal=!0},closeForm:function(e){e.isShowModal=!1}}}),O=Object(p.b)({name:"contact",initialState:[],reducers:{saveContact:function(e,t){var r=t.payload,c=Object(h.a)(e).slice(),a=b([].concat(Object(x.a)(c),[r]));return d(r),a},replaceContact:function(e,t){var r=t.payload;b(r).forEach((function(t){return e.push(t)}))}}}),v=Object(p.a)({reducer:{formSlice:f.reducer,contactSlice:O.reducer}}),N=f.actions,g=O.actions,w=r(10),y=r(16),C=r(17),S=r(1);function k(e){var t=e.filterValue,r=Object(o.c)((function(e){return null!==t?e.contactSlice.filter((function(e){var r,c=e.firstName.toLowerCase()+(null===(r=e.lastName)||void 0===r?void 0:r.toLowerCase()),a=t.trim().toLowerCase();return c.indexOf(a)>-1})):e.contactSlice})),c=[];return r.forEach((function(e,t){c.push("https://randomuser.me/api/portraits/med/men/".concat(t+1,".jpg"))})),r.map((function(e,t){var r=e.isLetter,a=e.firstName,n=e.lastName,s=e.phone;return r?Object(S.jsx)("div",{className:"text-center text-xs",children:a},t):Object(S.jsxs)("div",{className:"mx-3 my-1 bg-white rounded px-2 flex space-x-3 items-center py-1",children:[Object(S.jsx)("img",{className:"rounded-full h-8",src:c[t],alt:""}),Object(S.jsxs)("div",{children:[Object(S.jsx)("h4",{className:"text-black",children:a+" "+n}),Object(S.jsx)("p",{className:"text-xs",children:s})]})]},t)}))}var F=r(26);function q(){var e,t,r=Object(o.c)((function(e){return e.formSlice.isShowModal})),c=Object(o.b)(),a=Object(F.a)(),n=a.register,s=a.handleSubmit,i=a.formState.errors,l=a.reset;return Object(S.jsx)(S.Fragment,{children:r?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:Object(S.jsx)("div",{className:"relative w-96 my-6 mx-auto max-w-3xl",children:Object(S.jsxs)("div",{className:"px-3 py-8  rounded-lg shadow-lg relative flex flex-col justify-center items-center bg-white ",children:[Object(S.jsx)("button",{className:"absolute top-3 right-5",onClick:function(){return c(N.closeForm())},children:Object(S.jsx)(y.a,{icon:C.b,size:"1x"})}),Object(S.jsx)("h4",{className:"mb-5",children:"Contact Info"}),Object(S.jsxs)("form",{onSubmit:s((function(e){c(g.saveContact(e)),c(N.closeForm()),l({})})),children:[Object(S.jsxs)("div",{className:"inputParent",children:[Object(S.jsx)("label",{htmlFor:"name",children:"Name"}),Object(S.jsxs)("div",{className:"flex flex-col",children:[Object(S.jsx)("input",Object(u.a)(Object(u.a)({},n("firstName",{required:!0})),{},{className:"input ",type:"text",id:"name",placeholder:"First Name"})),"required"===(null===(e=i.firstName)||void 0===e?void 0:e.type)&&Object(S.jsx)("div",{className:"error",children:"First name is required"}),Object(S.jsx)("input",Object(u.a)(Object(u.a)({},n("lastName",{required:!0})),{},{className:"input mt-3",type:"text",placeholder:"Surename"})),"required"===(null===(t=i.lastName)||void 0===t?void 0:t.type)&&Object(S.jsx)("div",{className:"error",children:"Sure name is required"})]})]}),Object(S.jsxs)("div",{className:"inputParent ",children:[Object(S.jsx)("label",{htmlFor:"emal",children:"Email Address"}),Object(S.jsxs)("div",{children:[Object(S.jsx)("input",Object(u.a)({className:"input text-md",placeholder:"Your email"},n("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}))),i.email&&Object(S.jsx)("div",{className:"error",children:i.email.message})]})]}),Object(S.jsxs)("div",{className:"inputParent ",children:[Object(S.jsx)("label",{htmlFor:"phone",children:"Contact Number"}),Object(S.jsxs)("div",{children:[Object(S.jsx)("input",Object(u.a)({className:"input text-md",type:"number",id:"phone",placeholder:"e.g +01825332455"},n("phone",{required:"Phone Number is required"}))),i.phone&&Object(S.jsx)("div",{className:"error",children:i.phone.message})]})]}),Object(S.jsx)("button",{className:"btn bg-primary-color float-right text-sm",type:"submit",children:"Save Contact"})]})]})})}),Object(S.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}):null})}function E(){var e=Object(c.useState)(null),t=Object(w.a)(e,2),r=t[0],a=t[1],n=Object(o.b)();return Object(S.jsxs)("main",{className:"relative w-11/12 max-w-screen-md my-10 mx-auto rounded h-4/5 bg-gray-100 overflow-scroll",children:[Object(S.jsxs)("nav",{className:"sticky top-0 flex justify-between items-center space-x-3 bg-white p-2 mb-2",children:[Object(S.jsxs)("div",{className:"relative flex-grow self-auto",children:[Object(S.jsx)("input",{className:"w-full inputSearch ",type:"text",placeholder:"Search Contact",onChange:function(e){var t=e.target.value;a(t)}}),Object(S.jsx)(y.a,{className:"absolute right-2 top-2 text-gray-300",icon:C.a})]}),Object(S.jsxs)("div",{className:"flex space-x-3",children:[Object(S.jsx)("button",{className:"btn bg-primary-color",onClick:function(){return n(N.openForm())},children:"Add Contact"}),Object(S.jsx)("button",{className:"btn bg-gray-300",children:"Export"})]})]}),Object(S.jsx)(q,{}),Object(S.jsx)(k,{filterValue:r})]})}function L(){return Object(S.jsxs)("nav",{className:"flex space-x-2 bg-white p-2.5",children:[Object(S.jsx)("div",{className:"",children:"Home"}),Object(S.jsx)("div",{className:"text-primary-color",children:"Contact List"})]})}var A=!1;function U(){var e=Object(o.c)((function(e){return e.contactSlice})),t=Object(o.b)();return Object(c.useEffect)((function(){Object(l.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A){e.next=6;break}return e.next=3,m();case 3:r=e.sent,t(g.replaceContact(r)),A=!0;case 6:case"end":return e.stop()}}),e)})))().catch((function(e){return console.log(e)}))}),[e,t]),Object(S.jsxs)("div",{className:"h-screen text-secondary-color",style:{backgroundColor:"#e5e5e5"},children:[Object(S.jsx)(L,{}),Object(S.jsx)(E,{})]})}n.a.render(Object(S.jsx)(o.a,{store:v,children:Object(S.jsx)(U,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.7cc65b26.chunk.js.map