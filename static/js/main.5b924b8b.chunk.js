(this["webpackJsonpcontact-page"]=this["webpackJsonpcontact-page"]||[]).push([[0],{31:function(e,t,r){},50:function(e,t,r){"use strict";r.r(t);var c=r(0),n=r(15),a=r.n(n),s=(r(31),r(2)),i=r.n(s),l=r(6),o=r(7),u=r(8),d=new(r(25).a)("db"),j=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.collection("users").add(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.collection("users").get();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.collection("users").delete();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(e){e.sort((function(e,t){return e.firstName.toUpperCase()<t.firstName.toUpperCase()?-1:e.firstName.toUpperCase()>t.firstName.toUpperCase()?1:null}));var t=[];e.forEach((function(e,r){t.push("https://randomuser.me/api/portraits/med/men/".concat(r+1,".jpg"))}));var r=e.reduce((function(e,r,c,n){var a=r.firstName.toUpperCase().substr(0,1);return a<"A"&&(a="#"),a!==e[1]&&(e[0].push({firstName:a,isLetter:!0}),e[1]=a),r.firstName.length>2&&e[0].push(Object(u.a)(Object(u.a)({},r),{},{isLetter:!1,imgSrc:t[c]})),e}),[[],null])[0];return r},p=r(5),f=r(18),h=r(4),O=Object(f.b)({name:"form",initialState:{isShowModal:!1},reducers:{openForm:function(e){e.isShowModal=!0},closeForm:function(e){e.isShowModal=!1}}}),v=Object(f.b)({name:"contact",initialState:[],reducers:{saveContact:function(e,t){var r=t.payload,c=Object(h.a)(e).slice(),n=x([].concat(Object(p.a)(c),[r]));return j(r),n},replaceContact:function(e,t){var r=t.payload;x(r).forEach((function(t){return e.push(t)}))},deleteAllContact:function(){return b(),[]}}}),N=Object(f.a)({reducer:{formSlice:O.reducer,contactSlice:v.reducer}}),g=O.actions,w=v.actions,y=r(10),C=r(16),S=r(17),k=r(1);function F(e){var t=e.filterValue,r=Object(o.c)((function(e){return null!==t?e.contactSlice.filter((function(e){var r,c=e.firstName.toLowerCase()+(null===(r=e.lastName)||void 0===r?void 0:r.toLowerCase()),n=t.trim().toLowerCase();return c.indexOf(n)>-1})):e.contactSlice}));return 0!==r.length?r.map((function(e,t){var r=e.isLetter,c=e.firstName,n=e.lastName,a=e.phone,s=e.imgSrc;return r?Object(k.jsx)("div",{className:"text-center text-xs",children:c},t):Object(k.jsxs)("div",{className:"mx-3 my-1 bg-white rounded px-2 flex space-x-3 items-center py-1",children:[Object(k.jsx)("img",{className:"rounded-full h-8",src:s,alt:""}),Object(k.jsxs)("div",{children:[Object(k.jsx)("h4",{className:"text-black",children:c+" "+n}),Object(k.jsx)("p",{className:"text-xs",children:a})]})]},t)})):Object(k.jsx)("div",{className:"text-center mt-3",children:"No Contact Found"})}var q=r(26);function A(){var e,t,r=Object(o.c)((function(e){return e.formSlice.isShowModal})),c=Object(o.b)(),n=Object(q.a)(),a=n.register,s=n.handleSubmit,i=n.formState.errors,l=n.reset;return Object(k.jsx)(k.Fragment,{children:r?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:Object(k.jsx)("div",{className:"relative w-96 my-6 mx-auto max-w-3xl",children:Object(k.jsxs)("div",{className:"px-3 py-8  rounded-lg shadow-lg relative flex flex-col justify-center items-center bg-white ",children:[Object(k.jsx)("button",{className:"absolute top-3 right-5",onClick:function(){return c(g.closeForm())},children:Object(k.jsx)(C.a,{icon:S.b,size:"1x"})}),Object(k.jsx)("h4",{className:"mb-5",children:"Contact Info"}),Object(k.jsxs)("form",{onSubmit:s((function(e){c(w.saveContact(e)),c(g.closeForm()),l({})})),children:[Object(k.jsxs)("div",{className:"inputParent",children:[Object(k.jsx)("label",{htmlFor:"name",children:"Name"}),Object(k.jsxs)("div",{className:"flex flex-col",children:[Object(k.jsx)("input",Object(u.a)(Object(u.a)({},a("firstName",{required:!0})),{},{className:"input ",type:"text",id:"name",placeholder:"First Name"})),"required"===(null===(e=i.firstName)||void 0===e?void 0:e.type)&&Object(k.jsx)("div",{className:"error",children:"First name is required"}),Object(k.jsx)("input",Object(u.a)(Object(u.a)({},a("lastName",{required:!0})),{},{className:"input mt-3",type:"text",placeholder:"Surename"})),"required"===(null===(t=i.lastName)||void 0===t?void 0:t.type)&&Object(k.jsx)("div",{className:"error",children:"Sure name is required"})]})]}),Object(k.jsxs)("div",{className:"inputParent ",children:[Object(k.jsx)("label",{htmlFor:"emal",children:"Email Address"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("input",Object(u.a)({className:"input text-md",placeholder:"Your email"},a("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}))),i.email&&Object(k.jsx)("div",{className:"error",children:i.email.message})]})]}),Object(k.jsxs)("div",{className:"inputParent ",children:[Object(k.jsx)("label",{htmlFor:"phone",children:"Contact Number"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("input",Object(u.a)({className:"input text-md",type:"number",id:"phone",placeholder:"e.g +01825332455"},a("phone",{required:"Phone Number is required"}))),i.phone&&Object(k.jsx)("div",{className:"error",children:i.phone.message})]})]}),Object(k.jsx)("button",{className:"btn bg-primary-color float-right text-sm",type:"submit",children:"Save Contact"})]})]})})}),Object(k.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}):null})}function L(){var e=Object(c.useState)(null),t=Object(y.a)(e,2),r=t[0],n=t[1],a=Object(o.b)();return Object(k.jsxs)("main",{className:"relative w-11/12 max-w-screen-md my-10 mx-auto rounded h-4/5 bg-gray-100 overflow-scroll",children:[Object(k.jsxs)("nav",{className:"sticky top-0 flex justify-between items-center space-x-3 bg-white p-2 mb-2",children:[Object(k.jsxs)("div",{className:"relative flex-grow self-auto",children:[Object(k.jsx)("input",{className:"w-full inputSearch ",type:"text",placeholder:"Search Contact",onChange:function(e){var t=e.target.value;n(t)}}),Object(k.jsx)(C.a,{className:"absolute right-2 top-2 text-gray-300",icon:S.a})]}),Object(k.jsxs)("div",{className:"flex space-x-3",children:[Object(k.jsx)("button",{className:"btn bg-primary-color",onClick:function(){return a(g.openForm())},children:"Add Contact"}),Object(k.jsx)("button",{className:"btn bg-gray-300",onClick:function(){return a(w.deleteAllContact())},children:"Delete All"})]})]}),Object(k.jsx)(A,{}),Object(k.jsx)(F,{filterValue:r})]})}function E(){return Object(k.jsxs)("nav",{className:"flex space-x-2 bg-white p-2.5",children:[Object(k.jsx)("div",{className:"",children:"Home"}),Object(k.jsx)("div",{className:"text-primary-color",children:"Contact List"})]})}var U=!1;function M(){var e=Object(o.c)((function(e){return e.contactSlice})),t=Object(o.b)();return Object(c.useEffect)((function(){Object(l.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U){e.next=6;break}return e.next=3,m();case 3:r=e.sent,t(w.replaceContact(r)),U=!0;case 6:case"end":return e.stop()}}),e)})))().catch((function(e){return console.log(e)}))}),[e,t]),Object(k.jsxs)("div",{className:"h-screen text-secondary-color",style:{backgroundColor:"#e5e5e5"},children:[Object(k.jsx)(E,{}),Object(k.jsx)(L,{})]})}a.a.render(Object(k.jsx)(o.a,{store:N,children:Object(k.jsx)(M,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.5b924b8b.chunk.js.map